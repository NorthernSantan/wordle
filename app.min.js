let c=0;let t=0;let s=[];let d=[];let l=null;const w=e=>{return globalSetOfWords.includes(e)||wordList.includes(e)};const o=()=>{const e=(new Date).getTime()-startDate.getTime();return Math.floor(Math.abs(e/(1e3*3600*24)))%wordList.length};const y=e=>{return String(e).toLowerCase()===l};const r=e=>{const t=document.querySelector("#messages");t.innerText=e;t.classList.add("shown");setTimeout(()=>{t.classList.remove("shown")},2e3)};const n=()=>{const e=document.querySelector("#board");e.innerHTML="";for(i=0;i<allowedAttempts;i++){let o=document.createElement("div");o.className="board-row";o.id="row-"+i;e.appendChild(o);for(j=0;j<5;j++){let e=document.createElement("div");e.className="board-column";e.id="column-"+i+"-"+j;o.appendChild(e);let t=document.createElement("div");t.className="board-column-front";t.id="column-front-"+i+"-"+j;e.appendChild(t);let n=document.createElement("div");n.className="board-column-back";n.id="column-back-"+i+"-"+j;e.appendChild(n)}}};const a=e=>{if(t<5){document.querySelector("#column-front-"+c+"-"+t).innerText=e.target.innerText;document.querySelector("#column-back-"+c+"-"+t).innerText=e.target.innerText;t++;s.push(e.target.innerText)}};window.addEventListener("keydown",e=>{console.log("Got an event",e);if(qwerty.includes(e.key.toLowerCase())){a({target:{innerText:e.key.toUpperCase()}})}else if(e.key==="Backspace"){m()}else if(e.key==="Enter"){u()}});const k=async()=>{let n=`Corporate Wordle ${o()+1} / ${wordList.length}\n\n`;d.forEach(e=>{const t=[...e].reduce((e,t)=>{switch(t){case"green":return e+"ðŸŸ©";case"yellow":return e+"ðŸŸ¨";default:return e+"â¬›"}},"");n+=`${t}\n`});await navigator.clipboard.writeText(n);r("Result is copied to clipboard")};const f=()=>{const e=document.querySelector("#banner");e.style.display="flex";document.querySelector(".share").onclick=k};const p=()=>{const e=document.querySelector("#answer-banner");e.style.display="flex";document.querySelector("#answer-text").innerHTML="The answer is "+l};const u=()=>{if(s.length<5){r("Not enough letters")}else if(!w(s.join("").toLowerCase())){r("Not in the word list")}else{const e=s;const n=l.split("");const o=[];e.forEach((e,t)=>{if(e.toLowerCase()===n[t].toLowerCase()){document.querySelector("#column-back-"+c+"-"+t).classList.add("green");document.querySelector("#column-"+c+"-"+t).classList.add("flipped");document.querySelector("#keypad-key-"+e.toLowerCase()).classList.add("green");o.push("green")}else if(n.includes(e.toLowerCase())){document.querySelector("#column-back-"+c+"-"+t).classList.add("yellow");document.querySelector("#column-"+c+"-"+t).classList.add("flipped");document.querySelector("#keypad-key-"+e.toLowerCase()).classList.add("yellow");o.push("yellow")}else{document.querySelector("#column-back-"+c+"-"+t).classList.add("grey");document.querySelector("#column-"+c+"-"+t).classList.add("flipped");document.querySelector("#keypad-key-"+e.toLowerCase()).classList.add("grey");o.push("grey")}});d.push(o);if(y(s.join("").toLowerCase())){c===0&&r("Are you real?");c===1&&r("Genius!");c===2&&r("Awesome!");c===3&&r("Great Job!");c===4&&r("Good Job!");c===5&&r("Phew!");f()}else if(c+1===allowedAttempts){p()}else{c++;t=0;s=[]}}};const m=()=>{if(t>0){document.querySelector("#column-front-"+c+"-"+(t-1)).innerText="";document.querySelector("#column-back-"+c+"-"+(t-1)).innerText="";t--;s.pop()}};const b=()=>{const n=document.querySelector("#alphabets");n.innerHTML="";const e=document.querySelector("#special-keys");e.innerHTML="";qwerty.forEach(e=>{let t=document.createElement("div");t.className="keypad-key";t.id="keypad-key-"+e;t.innerText=String(e).toUpperCase();n.appendChild(t);t.onclick=a});let t=document.createElement("div");t.className="keypad-special-key";t.id="keypad-key-back";t.innerText="Back";t.onclick=m;e.appendChild(t);let o=document.createElement("div");o.className="keypad-special-key";o.id="keypad-key-enter";o.innerText="Enter";o.onclick=u;e.appendChild(o)};const g=()=>{return Math.floor(Math.random()*(wordList.length+1)+1)%wordList.length};const e=(e=false)=>{c=0;t=0;s=[];d=[];n();b();document.querySelector("#messages").classList.remove("shown");document.querySelector("#banner").style.display="none";document.querySelector("#answer-banner").style.display="none";if(e){l=wordList[g()]}else{l=wordList[o()]}};